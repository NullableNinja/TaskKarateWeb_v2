<!DOCTYPE html>
<html lang="en" data-theme="dark">
<!-- ======================================================================
     TASK KARATE — STUDENT HUB (Dashboard)
     Clean Rebuild • Fully Commented • Version 2025.11
     ====================================================================== -->
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Task Karate – Student Hub</title>

  <!-- ============================================================
       [1] CORE STYLES
       ============================================================ -->
  <link rel="stylesheet" href="./assets/styles/main.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-core.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-status.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-training.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-messages.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-achievements.css" />
  <link rel="stylesheet" href="./assets/styles/student-dashboard-news.css" />
</head>

<body class="dashboard-root">
  <!-- Background Layer (geometric Paper-Fu pattern) -->
  <div class="bg-geo"></div>

  <!-- FX Root (confetti, animations injected by JS) -->
  <div id="fx-root"></div>

  <!-- Navigation Bar (loaded from partial) -->
  <div id="site-header"></div>

  <!-- **********************************************************************
       [3] DASHBOARD HEADER AREA
       ********************************************************************** -->
  <header class="dashboard-header">

    <!-- Floating Student Identity (Top-Left) -->
    <div class="floating-identity">
      <div class="hero-left">
        <div class="hero-avatar" id="heroInitials">AA</div>
        <div class="hero-info">
          <h1 class="hero-name" id="heroName">Student Name</h1>
          <p class="hero-rank" id="heroRank">Rank</p>
          <p class="hero-role" id="heroRole"><!-- Filled by JS --></p>
        </div>
      </div>
    </div>

    <!-- ********************************************************************
         [Floating Tab Bar]
         ******************************************************************** -->
    <div class="floating-tab-bar" aria-label="Student hub sections">

      <!-- STATUS -->
      <button class="floating-tab-btn floating-tab-btn--status is-active"
              type="button" data-tab="status">
        <span class="floating-tab-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M12 3L5 6v5c0 4.06 2.67 7.79 7 9 4.33-1.21 7-4.94 7-9V6l-7-3z" />
          </svg>
        </span>
        <span class="floating-tab-label">Status</span>
      </button>

      <!-- MESSAGES -->
      <button class="floating-tab-btn floating-tab-btn--messages"
              type="button" data-tab="messages">
        <span class="floating-tab-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M4 4h16v10H7l-3 3V4z" />
          </svg>
        </span>
        <span class="floating-tab-label">Messages</span>
      </button>

      <!-- ACHIEVEMENTS -->
      <button class="floating-tab-btn floating-tab-btn--achievements"
              type="button" data-tab="achievements">
        <span class="floating-tab-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M12 2l3 5 5 .7-3.6 3.5.9 5.1L12 14.8 6.7 16.3l.9-5.1L4 7.7 9 7l3-5z" />
          </svg>
        </span>
        <span class="floating-tab-label">Achievements</span>
      </button>

      <!-- TRAINING -->
      <button class="floating-tab-btn floating-tab-btn--training"
              type="button" data-tab="training">
        <span class="floating-tab-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M9 3h6l1 2h3v16H5V5h3l1-2zm0 6h6v2H9V9zm0 4h6v2H9v-2z" />
          </svg>
        </span>
        <span class="floating-tab-label">Training</span>
      </button>

      <!-- NEWS -->
      <button class="floating-tab-btn floating-tab-btn--news"
              type="button" data-tab="news">
        <span class="floating-tab-icon" aria-hidden="true">
          <svg viewBox="0 0 24 24">
            <path d="M4 5h16v14H5a1 1 0 0 1-1-1V5zm3 3v2h5V8H7zm0 4v2h5v-2H7zm8-4h3v6h-3V8z" />
          </svg>
        </span>
        <span class="floating-tab-label">News</span>
      </button>

    </div>
    <!-- END FLOATING TAB BAR -->

    <!-- Floating Controls (Top-Right) -->
    <div class="floating-controls">
      <button id="logoutBtn" class="logout-btn" type="button">
        <span class="logout-icon">
          <svg class="logout-icon-svg" viewBox="0 0 24 24">
            <path d="M13 3h-2v10h2V3zm4.12 1.88l-1.41 1.41A7 7 0 1112 5V3a9 9 0 105.12 1.88z"/>
          </svg>
        </span>
        Logout
      </button>

      <!-- Instructor toggle wrapper (hidden but kept for future DB mode) -->
      <div id="instructorToggleWrapper" class="instructor-toggle-wrapper hidden">
        <label class="toggle-label">Instructor Mode</label>
        <div id="instructorToggle" class="toggle-switch">
          <div class="toggle-knob"></div>
        </div>
      </div>
    </div>
  </header>
  <!-- END DASHBOARD HEADER -->

  <!-- **********************************************************************
       [4] QUICKBAR
       ********************************************************************** -->
  <section id="quickbarRoot" class="quickbar-root">
    <!-- Populated by dashboard-core.js → renderQuickbar() -->
  </section>

  <!-- **********************************************************************
       [4.5] FUN STATS STRIP (NEW)
       Appears globally under the tab bar + quickbar, above hubContent
       ********************************************************************** -->
  <section id="funStatsStrip" class="funstats-strip">
    <!-- Populated by dashboard-status.js → renderFunStatsStrip() -->
  </section>

  <!-- **********************************************************************
       [5] LEGACY EMPTY TABS (kept inert)
       ********************************************************************** -->
  <nav class="hub-tabs legacy-hub-tabs" aria-hidden="true"></nav>

  <!-- **********************************************************************
       [6] MAIN CONTENT AREA
       ********************************************************************** -->
  <main id="hubContent" class="hub-content">
    <!-- Dynamic tab content loads here -->
  </main>

  <!-- **********************************************************************
       [7] PARTIAL LOADING + SCRIPTS
       ********************************************************************** -->
  <script>
    // Load navigation bar from partials
    fetch('./partials/navigation-bar.html')
      .then(response => response.text())
      .then(html => {
        const headerEl = document.getElementById('site-header');
        if (headerEl) headerEl.innerHTML = html;
      })
      .catch(error => console.error('Error loading navigation:', error));
  </script>

  <script src="./assets/js/dashboard-core.js"></script>
  <script src="./assets/js/dashboard-editor.js"></script>
  <script src="./assets/js/dashboard-status.js"></script>
  <script src="./assets/js/dashboard-training.js"></script>
  <script src="./assets/js/dashboard-messages.js"></script>
  <script src="./assets/js/dashboard-achievements.js"></script>
  <script src="./assets/js/dashboard-news.js"></script>
</body>
</html>
