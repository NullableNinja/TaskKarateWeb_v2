/* ===========================
   theme-core.css
   - Light/Dark theme system
   - Theme variable definitions
   - Color palette management
   =========================== */

/* LIGHT THEME (default) */
html[data-theme="light"] {
  /* Background colors with enhanced transparency */
  --bg-primary:       #f5f5f7;
  --bg-secondary:     rgba(255, 255, 255, 0.75); /* More translucent for double-panel effect */
  --bg-tertiary:      rgba(233, 237, 245, 0.6);
  --bg-inverse:       var(--bg-navy-50);
  
  /* Double-panel system layers */
  --bg-layer-1:       rgba(255, 255, 255, 0.85); /* Front panel */
  --bg-layer-2:       rgba(245, 245, 247, 0.8);  /* Back panel */
  --bg-layer-3:       rgba(235, 235, 240, 0.75); /* Third layer */
  --bg-layer-4:       rgba(225, 225, 235, 0.7);  /* Fourth layer */
  --bg-layer-5:       rgba(215, 215, 230, 0.65); /* Fifth layer */

  /* Text colors */
  --text-primary:     #111827;
  --text-secondary:   #4b5563;
  --text-tertiary:    #6b7280;
  --text-inverse:     #ffffff;
  --text-muted:       #9ca3af;

  /* Accent colors - Classic Blue based */
  --accent-primary:       var(--classic-blue-500);
  --accent-primary-light: var(--classic-blue-400);
  --accent-primary-soft:  rgba(15, 76, 129, 0.08);
  --accent-primary-strong:var(--classic-blue-600);
  --accent-primary-hover: rgba(15, 76, 129, 0.12);

  /* Border colors */
  --border-color:     rgba(15, 23, 42, 0.12);
  --border-color-light: rgba(15, 23, 42, 0.06);
  --border-color-medium: rgba(15, 23, 42, 0.18);
  --border-color-strong: rgba(15, 23, 42, 0.24);

  /* Shadow colors (theme-aware) */
  --shadow-color-soft: rgba(15, 23, 42, 0.08);
  --shadow-color-medium: rgba(15, 23, 42, 0.14);
  --shadow-color-hard: rgba(15, 23, 42, 0.24);

  /* Panel and overlay colors */
  --panel-outline:    rgba(15, 23, 42, 0.06);
  --panel-glass:      rgba(255, 255, 255, 0.7);
  --overlay-bg:       rgba(0, 0, 0, 0.4);

  /* Status colors */
  --success-bg:       #f0fdf4;
  --success-border:   #bbf7d0;
  --success-text:     #166534;
  
  --warning-bg:       #fffbeb;
  --warning-border:   #fed7aa;
  --warning-text:     #92400e;
  
  --error-bg:         #fef2f2;
  --error-border:     #fecaca;
  --error-text:       #991b1b;
  
  --info-bg:          #eff6ff;
  --info-border:      #bfdbfe;
  --info-text:        #1e40af;
}

/* DARK THEME - Warmer backgrounds with Classic Blue */
html[data-theme="dark"] {
  /* Background colors - warmer navy tones */
  --bg-primary:       var(--bg-navy-100);
  --bg-secondary:     rgba(30, 37, 50, 0.95);
  --bg-tertiary:      rgba(42, 52, 70, 0.9);
  --bg-inverse:       #f5f5f7;

  /* Double-panel system layers - Dark mode with warmth */
  --bg-layer-1:       rgba(30, 37, 50, 0.95); /* Front panel */
  --bg-layer-2:       rgba(42, 52, 70, 0.9);  /* Back panel */
  --bg-layer-3:       rgba(55, 68, 90, 0.85); /* Third layer */
  --bg-layer-4:       rgba(70, 85, 110, 0.8);  /* Fourth layer */
  --bg-layer-5:       rgba(90, 105, 130, 0.75); /* Fifth layer */

  /* Text colors */
  --text-primary:     #e5e7eb;
  --text-secondary:   #9ca3af;
  --text-tertiary:    #6b7280;
  --text-inverse:     #111827;
  --text-muted:       #4b5563;

  /* Accent colors - Classic Blue with brightness adjustment for dark mode */
  --accent-primary:       var(--classic-blue-400);
  --accent-primary-light: var(--classic-blue-300);
  --accent-primary-soft:  rgba(46, 123, 181, 0.18);
  --accent-primary-strong:var(--classic-blue-200);
  --accent-primary-hover: rgba(46, 123, 181, 0.25);

  /* Border colors */
  --border-color:     rgba(148, 163, 184, 0.35);
  --border-color-light: rgba(148, 163, 184, 0.18);
  --border-color-medium: rgba(148, 163, 184, 0.45);
  --border-color-strong: rgba(148, 163, 184, 0.55);

  /* Shadow colors (theme-aware) */
  --shadow-color-soft: rgba(0, 0, 0, 0.25);
  --shadow-color-medium: rgba(0, 0, 0, 0.35);
  --shadow-color-hard: rgba(0, 0, 0, 0.45);

  /* Panel and overlay colors */
  --panel-outline:    rgba(148, 163, 184, 0.18);
  --panel-glass:      rgba(30, 37, 50, 0.7);
  --overlay-bg:       rgba(0, 0, 0, 0.6);

  /* Status colors (dark variants) */
  --success-bg:       #022c22;
  --success-border:   #064e3b;
  --success-text:     #6ee7b7;
  
  --warning-bg:       #451a03;
  --warning-border:   #78350f;
  --warning-text:     #fcd34d;
  
  --error-bg:         #7f1d1d;
  --error-border:     #991b1b;
  --error-text:       #fca5a5;
  
  --info-bg:          #1e3a8a;
  --info-border:      #1e40af;
  --info-text:        #93c5fd;
}

/* High contrast theme for accessibility */
html[data-theme="high-contrast"] {
  --bg-primary:       #000000;
  --bg-secondary:     #1a1a1a;
  --bg-tertiary:      #333333;
  --text-primary:     #ffffff;
  --text-secondary:   #e0e0e0;
  --accent-primary:   #0066ff;
  --border-color:     #ffffff;
  --border-color-strong: #ffffff;
}

/* System preference detection */
@media (prefers-color-scheme: dark) {
  html:not([data-theme]) {
    --bg-primary:       var(--bg-navy-100);
    --bg-secondary:     rgba(30, 37, 50, 0.95);
    --bg-tertiary:      rgba(42, 52, 70, 0.9);
    --bg-inverse:       #f5f5f7;
    --text-primary:     #e5e7eb;
    --text-secondary:   #9ca3af;
    --text-tertiary:    #6b7280;
    --text-inverse:     #111827;
    --text-muted:       #4b5563;
    --accent-primary:       var(--classic-blue-400);
    --accent-primary-light: var(--classic-blue-300);
    --accent-primary-soft:  rgba(46, 123, 181, 0.18);
    --accent-primary-strong:var(--classic-blue-200);
    --accent-primary-hover: rgba(46, 123, 181, 0.25);
    --border-color:     rgba(148, 163, 184, 0.35);
    --border-color-light: rgba(148, 163, 184, 0.18);
    --panel-outline:    rgba(148, 163, 184, 0.18);
    --panel-glass:      rgba(30, 37, 50, 0.7);
  }
}

/* Reduced motion preference */
@media (prefers-reduced-motion: reduce) {
  :root {
    --transition-fast: 0ms;
    --transition-normal: 0ms;
    --transition-slow: 0ms;
    --transition-bounce: 0ms;
  }
  
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
  }
}

/* Theme transition animations */
html {
  transition: background-color var(--transition-normal), 
              color var(--transition-normal);
}

* {
  transition: border-color var(--transition-normal),
              box-shadow var(--transition-normal),
              background-color var(--transition-normal);
}

/* Dark mode specific adjustments */
html[data-theme="dark"] {
  color-scheme: dark;
}

html[data-theme="light"] {
  color-scheme: light;
}

/* Print styles */
@media print {
  html {
    --bg-primary: #ffffff !important;
    --bg-secondary: #ffffff !important;
    --text-primary: #000000 !important;
    --text-secondary: #333333 !important;
    --accent-primary: #000000 !important;
    --border-color: #000000 !important;
  }
  
  *,
  *::before,
  *::after {
    color: var(--text-primary) !important;
    background: transparent !important;
    box-shadow: none !important;
  }
}